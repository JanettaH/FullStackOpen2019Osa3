{"version":3,"sources":["components/filter.jsx","components/contact.jsx","components/contacts.jsx","services/contactService.js","components/notification.jsx","components/errorNotification.jsx","services/validateService.js","App.js","index.js"],"names":["Filter","_ref","filter","_useState","useState","_useState2","Object","slicedToArray","newInput","setNewInput","react_default","a","createElement","placeholder","value","onChange","event","target","Contact","contactObject","deleteContact","name","number","onClick","id","Contacts","persons","person","toLowerCase","startsWith","map","contact","key","baseUrl","contactService","axios","get","then","response","data","newObject","post","put","concat","delete","styles","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Notification","message","className","style","ErrorNotification","validateService","App","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","setMessage","_useState11","_useState12","errorMessage","setErrorMessage","useEffect","console","log","notification","errorNotification","components_filter","onSubmit","preventDefault","setTimeout","find","undefined","window","confirm","changedContact","objectSpread","returned","catch","error","type","contacts","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.57713ab9.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\n\r\nconst Filter = ({filter}) => {\r\n    const [ newInput, setNewInput ] = useState('')\r\n    const handleInputChange = (event) => {\r\n        setNewInput(event.target.value)\r\n        filter(event.target.value)\r\n      }\r\n    return ( <div >\r\n        filter shown with\r\n        <input placeholder=\"Search\" value={newInput}\r\n        onChange={handleInputChange}/>\r\n    </div> );\r\n}\r\n \r\nexport default Filter;","import React from 'react';\r\n\r\nconst Contact = ({contactObject, deleteContact}) => {\r\n\r\n    return (  <div>\r\n        {contactObject.name} {contactObject.number}\r\n        <button onClick={() => deleteContact(contactObject.id)}>delete</button>\r\n    </div>);\r\n}\r\n \r\nexport default Contact;","import React from 'react';\r\nimport Contact from './contact';\r\n\r\nconst Contacts = ({persons, filter, deleteContact}) => {\r\n    var filtered = persons.filter(person => person.name.toLowerCase().startsWith(filter.toLowerCase()))\r\n    return filtered.map(person => <Contact contactObject={person} key={person.name} deleteContact={deleteContact}/>)\r\n}\r\n \r\nexport default Contacts;","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteContact = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nexport default { getAll, create, update, deleteContact }","import React from 'react';\r\n\r\nconst styles = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n}\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"message\" style={styles}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\nexport default Notification;","import React from 'react';\r\n\r\nconst styles = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n\r\nconst ErrorNotification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"message\" style={styles}>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n  export default ErrorNotification;","const validatePerseon = (name, number) => {\r\n    if(name == null || name === \"\") {\r\n        return false;\r\n    } else if (number == null || number === \"\"){\r\n        return false;\r\n    } return true;\r\n}\r\n\r\nexport default {validatePerseon}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/filter'\nimport Contacts from './components/contacts';\nimport contactService from './services/contactService'\nimport Notification from './components/notification'\nimport './index.css'\nimport ErrorNotification from './components/errorNotification';\nimport validateService from './services/validateService'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [message, setMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  useEffect(() => {\n    contactService.getAll().then(contact => {\n      setPersons(contact)\n      console.log(contact)\n    });\n  }, []);\n\n  const deleteContact = (id) => {\n    let person = persons.find(person => person.id === id)\n    let deleteContact = window.confirm(\"Delete\" + person.name + \"?\")\n    if(deleteContact === true){\n    contactService.deleteContact(id).then(returned => {\n      setPersons(persons.filter(contact => contact.id !== id))\n      setMessage(\"Deleted \" + person.name)\n      setTimeout(() => {\n        setMessage(null);\n      }, 4000);\n    })\n  }\n  }\n\n  const addContact = (event) => {\n    event.preventDefault()\n    if(!validateService.validatePerseon(newName, newNumber)) {\n      setErrorMessage(\"Please fill out all required fields\")\n        setTimeout(() => {\n        setErrorMessage(null);\n      }, 4000);\n      return;\n    }\n    let person = persons.find(person => person.name === newName)\n    if(person !== undefined) {\n      let updateContact = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n      if(updateContact === true) {\n        const changedContact = { ...person, number: newNumber}\n        contactService.update(person.id, changedContact).then(returned => {\n          setPersons(persons.map(person => person.id !== returned.id ? person : returned))\n          setMessage('Updated ' + changedContact.name)\n          setTimeout(() => {\n            setMessage(null);\n          }, 4000);\n        }).catch(error => {\n          setErrorMessage('Information of ' + changedContact.name + ' has already been removed from server')\n           setTimeout(() => {\n          setErrorMessage(null);\n        }, 4000);\n      });\n    }\n      setNewName('')\n      setNewNumber('')\n      return\n    }\n   \n  const contactObject = {\n      name: newName,\n      number: newNumber\n    }\n    contactService.create(contactObject).then(returned => {\n    setPersons(persons.concat(returned))\n    setMessage('Created ' + returned.name)\n    setTimeout(() => {\n      setMessage(null)\n    }, 4000)\n  })\n    .catch(error => {\n      setErrorMessage(error.response.data.error)\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 4000)\n    })\n    setNewName('')\n    setNewNumber('')\n  }\n    \n\n    const handleContactChange = (event) => {\n      setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n      setNewNumber(event.target.value)\n    }\n\n    const filter = value => {\n      setNewFilter(value)\n      console.log(value)\n    }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <ErrorNotification message={errorMessage}/>\n      <Filter filter={filter}/>\n      <form onSubmit={addContact}>\n        <div>\n          name: \n          <input\n          value={newName}\n          onChange={handleContactChange} />\n          </div>\n          <div>\n          number:  \n          <input\n          value={newNumber}\n          onChange={handleNumberChange} /><button type=\"submit\">add</button>\n          </div>\n        \n          \n      </form>\n      <h2>Numbers</h2>\n      <div>\n          <Contacts persons={persons} filter={newFilter} deleteContact={deleteContact}/>\n        </div>\n    </div>\n  )\n\n}\n\nexport default App\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));"],"sourceRoot":""}